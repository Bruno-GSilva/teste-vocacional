<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Vocacional Geek & Pop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e2e8f0;
        }

        .container {
            max-width: 600px;
        }

        .shadow-custom {
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1);
        }

        .question-card,
        .result-card {
            background-color: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .option-button {
            transition: all 0.2s ease;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .option-button.selected {
            border-color: #2563eb;
            background-color: #eff6ff;
            color: #2563eb;
            font-weight: 600;
        }

        .result-item {
            border-left: 4px solid #3b82f6;
            padding-left: 1rem;
        }
    </style>
</head>

<body class="bg-gray-200 text-gray-800 flex justify-center items-center min-h-screen p-4">

    <div id="app" class="w-full flex flex-col items-center">
        <!-- Tela Inicial -->
        <div id="start-screen" class="bg-white p-8 rounded-xl shadow-lg text-center w-full max-w-md">
            <h1 class="text-3xl font-bold mb-4 text-blue-700">Teste Vocacional Geek & Pop</h1>
            <p class="text-gray-600 mb-6">Descubra sua profissão ideal com base nas suas preferências em filmes, séries, animes e muito mais!</p>
            <button id="start-button" class="bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
                Começar
            </button>
        </div>

        <!-- Tela do Quiz -->
        <div id="quiz-screen" class="hidden w-full max-w-lg">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <p id="progress-text" class="text-sm text-gray-500 mb-2">Questão 1 de 20</p>
                <h2 id="question-text" class="text-lg font-bold mb-6 text-gray-700"></h2>
                <div id="options-container" class="space-y-4 mb-6">
                    <!-- Opções serão renderizadas aqui -->
                </div>
                <div class="flex justify-between mt-4">
                    <button id="back-button" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-full font-semibold shadow-md hover:bg-gray-400 focus:outline-none transition">
                        Voltar
                    </button>
                    <button id="next-button" disabled class="bg-blue-400 text-white px-6 py-3 rounded-full font-semibold shadow-md cursor-not-allowed">
                        Próxima
                    </button>
                </div>
            </div>
        </div>

        <!-- Tela de Resultado -->
        <div id="result-screen" class="hidden w-full max-w-4xl">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center text-blue-700">Seu Resultado</h2>
                <div id="result-content">
                    <!-- Conteúdo do resultado será injetado aqui -->
                </div>
                <div class="mt-8 text-center">
                    <button id="restart-button" class="bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
                        Fazer de Novo
                    </button>
                </div>
            </div>
        </div>

    </div>

    <script>
        const questions = [
            {
                q: "1. Se você fosse um personagem de anime, quem escolheria?",
                options: [
                    { text: "Naruto (determinação)", points: { H: 2, C: 2 }, image: "https://www.themoviedb.org/t/p/w500/q22rUuX5S5uG6z8q8e6f7e8s9g.jpg" },
                    { text: "L, Death Note (lógica)", points: { E: 3, H: 1 }, image: "https://www.themoviedb.org/t/p/w500/bL32NlYt0oFmG9w8V3y4dYx3hX.jpg" },
                    { text: "Chopper, One Piece (cuidador)", points: { S: 3 }, image: "https://www.themoviedb.org/t/p/w500/mF1x1yT8T2t1m9tF5c8lq0S3S8.jpg" },
                    { text: "Shouko, A Silent Voice (empatia)", points: { A: 2, H: 2 }, image: "https://www.themoviedb.org/t/p/w500/p481x6o5vXb5qg4o4j1c4u4b4w.jpg" }
                ]
            },
            {
                q: "2. Qual desses filmes você mais gosta?",
                options: [
                    { text: "Interestelar (ciência)", points: { E: 3 }, image: "https://www.themoviedb.org/t/p/w500/gW9wSgBvR7wX2QyXf9X6xT4bX6.jpg" },
                    { text: "Harry Potter (amizade e ensino)", points: { H: 2, A: 2 }, image: "https://www.themoviedb.org/t/p/w500/i9nO0rX37n1LpT9a9X8w1D1eC2.jpg" },
                    { text: "Grey’s Anatomy (cuidado e medicina)", points: { S: 3 }, image: "https://www.themoviedb.org/t/p/w500/oH094Kqf6d0f3h4k1q7j6w8j9p.jpg" },
                    { text: "Capitão América (proteção)", points: { C: 3 }, image: "https://www.themoviedb.org/t/p/w500/2oK7Jq7pXwG7sD7K7qX9l9x7j8.jpg" }
                ]
            },
            {
                q: "3. Qual estilo musical te define mais?",
                options: [
                    { text: "Rock (criativo e ousado)", points: { A: 3 }, image: "https://images.unsplash.com/photo-1549488344-93510e6e73c8" },
                    { text: "Sertanejo (tradição)", points: { S: 2, C: 2 }, image: "https://images.unsplash.com/photo-1588696956247-f4e9121a9a83" },
                    { text: "Pop (comunicação)", points: { H: 3 }, image: "https://images.unsplash.com/photo-1498059042571-f9208a8e329c" },
                    { text: "Música clássica (disciplina)", points: { E: 2, C: 2 }, image: "https://images.unsplash.com/photo-1510915228359-bb810755353e" }
                ]
            },
            {
                q: "4. Qual criatura você escolheria como guardiã?",
                options: [
                    { text: "Dragão (força)", points: { C: 3 }, image: "https://images.unsplash.com/photo-1594833202996-b0e6e22e5a77" },
                    { text: "Fada (cuidado)", points: { S: 3 }, image: "https://images.unsplash.com/photo-1595015383563-d34e2c88d8b9" },
                    { text: "Robô (tecnologia)", points: { E: 3 }, image: "https://images.unsplash.com/photo-1526436894050-b996e382c7a5" },
                    { text: "Fênix (renascimento e arte)", points: { A: 3 }, image: "https://images.unsplash.com/photo-1579294247291-032c1c686e0c" }
                ]
            },
            {
                q: "5. Em um show, você seria…",
                options: [
                    { text: "O que organiza a galera", points: { H: 2, C: 2 }, image: "https://images.unsplash.com/photo-1591544321689-567e98d8d73b" },
                    { text: "O que analisa o som e luz", points: { E: 3 }, image: "https://images.unsplash.com/photo-1522923156636-f033102434b9" },
                    { text: "O que cuida se alguém passar mal", points: { S: 3 }, image: "https://images.unsplash.com/photo-1594917411603-68d7120e29b4" },
                    { text: "O que canta/dança até o fim", points: { A: 3 }, image: "https://images.unsplash.com/photo-1515901358352-d98c2d586d52" }
                ]
            },
            {
                q: "6. Qual desses heróis você mais admira?",
                options: [
                    { text: "Batman (estratégia e tecnologia)", points: { E: 3 }, image: "https://www.themoviedb.org/t/p/w500/uJt9J4tWbW1B1h0d4l7l5e5r6q.jpg" },
                    { text: "Mulher-Maravilha (justiça)", points: { C: 3 }, image: "https://www.themoviedb.org/t/p/w500/1pS3B8yW6d7w6k9q6k6j8k6y8y.jpg" },
                    { text: "Doutor Estranho (cura e sabedoria)", points: { S: 3 }, image: "https://www.themoviedb.org/t/p/w500/7WqfG3yQ5nC2k7l5y4y4l8q8h7.jpg" },
                    { text: "Homem-Aranha (criatividade e comunicação)", points: { H: 2, A: 1 }, image: "https://www.themoviedb.org/t/p/w500/rV3E3TfQ8jV7iTqf9f6eY7tY6E.jpg" }
                ]
            },
            {
                q: "7. Se fosse viver dentro de um jogo, qual seria?",
                options: [
                    { text: "Minecraft (construção)", points: { E: 3 }, image: "https://images.unsplash.com/photo-1582294157500-8451b6a386c9" },
                    { text: "The Sims (sociedade)", points: { H: 3 }, image: "https://images.unsplash.com/photo-1554522434-58a4369e4f55" },
                    { text: "Pokémon (cuidado)", points: { S: 3 }, image: "https://images.unsplash.com/photo-1620608972986-e2a2c11451f2" },
                    { text: "Just Dance (arte)", points: { A: 3 }, image: "https://images.unsplash.com/photo-1583485750435-08e010c7336a" }
                ]
            },
            {
                q: "8. Qual casa de Hogwarts combina com você?",
                options: [
                    { text: "Grifinória (coragem)", points: { C: 3 }, image: "https://static.wikia.nocookie.net/harrypotter/images/1/15/Gryffindor_ClearBG.png" },
                    { text: "Corvinal (inteligência)", points: { E: 3 }, image: "https://static.wikia.nocookie.net/harrypotter/images/4/4e/Ravenclaw_Crest.png" },
                    { text: "Lufa-Lufa (solidariedade)", points: { S: 3 }, image: "https://static.wikia.nocookie.net/harrypotter/images/f/f6/Hufflepuff_ClearBG.png" },
                    { text: "Sonserina (ambição)", points: { H: 3 }, image: "https://static.wikia.nocookie.net/harrypotter/images/0/00/Slytherin_ClearBG.png" }
                ]
            },
            {
                q: "9. Qual profissão de série/filme você teria?",
                options: [
                    { text: "Tony Stark – engenheiro", points: { E: 3 }, image: "https://www.themoviedb.org/t/p/w500/eI3F5wS0L6o4e5c7a8b9d7g9g7.jpg" },
                    { text: "Meredith Grey – médica", points: { S: 3 }, image: "https://www.themoviedb.org/t/p/w500/kK3U8FfGkL5q4t7j8g3c9k7l4g.jpg" },
                    { text: "Harvey Specter – advogado", points: { H: 3 }, image: "https://www.themoviedb.org/t/p/w500/xVqfVj5p6tS7k4d5f9d7c6d6k9.jpg" },
                    { text: "Lady Gaga – artista", points: { A: 3 }, image: "https://www.themoviedb.org/t/p/w500/e9a7e8e5d6d8f8k9j8h7l6g7f8.jpg" }
                ]
            },
            {
                q: "10. Qual animal te representa melhor?",
                options: [
                    { text: "Águia (estratégia)", points: { E: 3 }, image: "https://images.unsplash.com/photo-1550995171-8b0b8c62c967" },
                    { text: "Leão (coragem)", points: { C: 3 }, image: "https://images.unsplash.com/photo-1610443905973-c15c89c7d41f" },
                    { text: "Golfinho (inteligência e cuidado)", points: { S: 3 }, image: "https://images.unsplash.com/photo-1596700810817-f31614749f99" },
                    { text: "Gato (independente e criativo)", points: { A: 2, H: 1 }, image: "https://images.unsplash.com/photo-1595116030917-f27341e98d9a" }
                ]
            },
            {
                q: "11. Qual anime você prefere?",
                options: [
                    { text: "Steins;Gate (ciência)", points: { E: 3 }, image: "https://www.themoviedb.org/t/p/w500/oE8wQxKq08xR4yL2z3k7j4t4r7.jpg" },
                    { text: "Cells at Work (saúde)", points: { S: 3 }, image: "https://www.themoviedb.org/t/p/w500/o6l8r7n6j5h9w2k3c4d5e7f8g9.jpg" },
                    { text: "Death Note (ética)", points: { H: 3 }, image: "https://www.themoviedb.org/t/p/w500/xXpQk4eS0F6l2f5k9c4y9h3j9d.jpg" },
                    { text: "Your Name (arte e emoção)", points: { A: 3 }, image: "https://www.themoviedb.org/t/p/w500/328mEa2l2y8v4h6v4z3b2c1d8r.jpg" }
                ]
            },
            {
                q: "12. Em uma banda, qual seria seu papel?",
                options: [
                    { text: "Guitarrista (técnica e precisão)", points: { E: 3 }, image: "https://images.unsplash.com/photo-1552528731-f92503d2e334" },
                    { text: "Vocalista (liderança)", points: { H: 2, A: 1 }, image: "https://images.unsplash.com/photo-1554629947-3806a0904d49" },
                    { text: "Baterista (ritmo e energia)", points: { C: 3 }, image: "https://images.unsplash.com/photo-1533745265215-d72b220a28f8" },
                    { text: "Compositor (criatividade)", points: { A: 3 }, image: "https://images.unsplash.com/photo-1516644482084-2f22b82b99d4" }
                ]
            },
            {
                q: "13. Qual gênero de filme você prefere?",
                options: [
                    { text: "Ficção científica", points: { E: 3 }, image: "https://images.unsplash.com/photo-1518105658097-8c6301a3c639" },
                    { text: "Drama humano", points: { S: 3 }, image: "https://images.unsplash.com/photo-1583095368305-b040a43058b7" },
                    { text: "Documentário histórico", points: { H: 3 }, image: "https://images.unsplash.com/photo-1550995171-8b0b8c62c967" },
                    { text: "Musical/comédia", points: { A: 3 }, image: "https://images.unsplash.com/photo-1579294247291-032c1c686e0c" }
                ]
            },
            {
                q: "14. Se fosse uma ferramenta, qual seria?",
                options: [
                    { text: "Calculadora", points: { E: 3 }, image: "https://images.unsplash.com/photo-1526436894050-b996e382c7a5" },
                    { text: "Estetoscópio", points: { S: 3 }, image: "https://images.unsplash.com/photo-1594917411603-68d7120e29b4" },
                    { text: "Código de leis", points: { H: 3 }, image: "https://images.unsplash.com/photo-1554522434-58a4369e4f55" },
                    { text: "Pincel", points: { A: 3 }, image: "https://images.unsplash.com/photo-1595116030917-f27341e98d9a" }
                ]
            },
            {
                q: "15. Qual banda/artista você mais curte?",
                options: [
                    { text: "Daft Punk (tecnologia + música)", points: { E: 3 }, image: "https://images.unsplash.com/photo-1579294247291-032c1c686e0c" },
                    { text: "Chitãozinho & Xororó (tradição)", points: { S: 2, H: 1 }, image: "https://images.unsplash.com/photo-1588696956247-f4e9121a9a83" },
                    { text: "Legião Urbana (questionamento social)", points: { H: 3 }, image: "https://images.unsplash.com/photo-1526436894050-b996e382c7a5" },
                    { text: "Freddie Mercury (criatividade)", points: { A: 3 }, image: "https://images.unsplash.com/photo-1498059042571-f9208a8e329c" }
                ]
            },
            {
                q: "16. Se tivesse um poder especial, qual seria?",
                options: [
                    { text: "Super inteligência", points: { E: 3 }, image: "https://images.unsplash.com/photo-1552528731-f92503d2e334" },
                    { text: "Cura", points: { S: 3 }, image: "https://images.unsplash.com/photo-1554629947-3806a0904d49" },
                    { text: "Persuasão", points: { H: 3 }, image: "https://images.unsplash.com/photo-1533745265215-d72b220a28f8" },
                    { text: "Criar ilusões", points: { A: 3 }, image: "https://images.unsplash.com/photo-1516644482084-2f22b82b99d4" }
                ]
            },
            {
                q: "17. O que mais te motiva em um trabalho?",
                options: [
                    { text: "Resolver problemas", points: { E: 3 }, image: "https://images.unsplash.com/photo-1518105658097-8c6301a3c639" },
                    { text: "Ajudar pessoas", points: { S: 3 }, image: "https://images.unsplash.com/photo-1583095368305-b040a43058b7" },
                    { text: "Liderar e influenciar", points: { H: 2, C: 2 }, image: "https://images.unsplash.com/photo-1550995171-8b0b8c62c967" },
                    { text: "Expressar criatividade", points: { A: 3 }, image: "https://images.unsplash.com/photo-1610443905973-c15c89c7d41f" }
                ]
            },
            {
                q: "18. Se fosse participar de uma olimpíada escolar, seria em…",
                options: [
                    { text: "Matemática/Física", points: { E: 3 }, image: "https://images.unsplash.com/photo-1596700810817-f31614749f99" },
                    { text: "Biologia/Química", points: { S: 3 }, image: "https://images.unsplash.com/photo-1595116030917-f27341e98d9a" },
                    { text: "História/Geografia", points: { H: 3 }, image: "https://images.unsplash.com/photo-1582294157500-8451b6a386c9" },
                    { text: "Artes/Literatura", points: { A: 3 }, image: "https://images.unsplash.com/photo-1554522434-58a4369e4f55" }
                ]
            },
            {
                q: "19. Qual desses concursos você faria?",
                options: [
                    { text: "Polícia Federal", points: { C: 3 }, image: "https://images.unsplash.com/photo-1591544321689-567e98d8d73b" },
                    { text: "Médico Militar", points: { S: 2, C: 2 }, image: "https://images.unsplash.com/photo-1522923156636-f033102434b9" },
                    { text: "Diplomata", points: { H: 3 }, image: "https://images.unsplash.com/photo-1594917411603-68d7120e29b4" },
                    { text: "INSS", points: { H: 2, C: 2 }, image: "https://images.unsplash.com/photo-1515901358352-d98c2d586d52" }
                ]
            },
            {
                q: "20. Qual frase combina mais com você?",
                options: [
                    { text: "A lógica sempre vence.", points: { E: 3 }, image: "https://images.unsplash.com/photo-1510915228359-bb810755353e" },
                    { text: "Cuidar dos outros é cuidar de mim mesmo.", points: { S: 3 }, image: "https://images.unsplash.com/photo-1588696956247-f4e9121a9a83" },
                    { text: "A justiça é o meu caminho.", points: { H: 2, C: 2 }, image: "https://images.unsplash.com/photo-1526436894050-b996e382c7a5" },
                    { text: "A vida sem arte não tem graça.", points: { A: 3 }, image: "https://images.unsplash.com/photo-1579294247291-032c1c686e0c" }
                ]
            }
        ];

        const results = {
            'E': {
                title: "Exatas",
                description: "Você tem perfil lógico, analítico e curioso. Adora resolver problemas e usar a tecnologia a seu favor.",
                professions: ["Engenheiro (Civil, Elétrica, Mecânica, Telecomunicações, etc.)", "Cientista de Dados", "Programador", "Analista de Sistemas", "Matemático", "Físico"],
                courses: [
                    { name: "Engenharia Civil", type: "Bacharelado" },
                    { name: "Engenharia de Computação", type: "Bacharelado" },
                    { name: "Engenharia de Produção", type: "Bacharelado" },
                    { name: "Ciência da Computação / Sistemas de Informação", type: "Bacharelado / Tecnologia" },
                    { name: "Matemática", type: "Licenciatura ou bacharelado" },
                    { name: "Física", type: "Licenciatura ou bacharelado" },
                    { name: "Matemática / Estatística (quando disponível)", type: "" }
                ],
                institutions: ["Universidade Federal do Ceará (UFC)", "Instituto Federal do Ceará (IFCE)", "Universidade de Fortaleza (Unifor)", "UNI7 (Centro Universitário 7 de Setembro)", "Faculdade Ari de Sá", "UniAteneu"],
                contests: ["Concurso Polícia Civil do Ceará → Oficial Investigador (nível superior)", "Concurso Delegado da Polícia Civil do Ceará", "Possíveis concursos para engenheiros em prefeitura ou Estado (Secretarias de obras, SAAE, DER, etc.)", "Órgãos como Departamento Estadual ou Municipal de Transporte e Trânsito, Companhia de Água e Esgoto (CAGEGE) podem abrir vagas para engenheiros ou técnicos"]
            },
            'S': {
                title: "Saúde",
                description: "Você gosta de cuidar, tem empatia e interesse pelo bem-estar dos outros.",
                professions: ["Médico", "Enfermeiro", "Psicólogo", "Nutricionista", "Biólogo", "Farmacêutico", "Fisioterapia", "Odontologia"],
                courses: ["Medicina", "Enfermagem", "Psicologia", "Biomedicina (se disponível)", "Fisioterapia", "Odontologia", "Nutrição", "Biologia"],
                institutions: ["UFC (Universidade Federal do Ceará)", "Unifor", "Uni7", "UniAteneu", "Faculdade Farias Brito", "Unichristus"],
                contests: ["Concursos para o setor de saúde pública (Prefeitura de Fortaleza, Estado do Ceará) → Enfermeiros, Médicos, Psicólogos etc.", "Concursos de saúde em hospitais universitários federais (como da UFC) ou estaduais", "Editais do SUS local ou Secretaria de Saúde do Estado", "Possíveis concursos em instituições como IML (Instituto Médico Legal), ou laboratórios públicos"]
            },
            'H': {
                title: "Humanas",
                description: "Você gosta de lidar com pessoas, ideias, comunicação e questões sociais.",
                professions: ["Advogado", "Professor", "Administrador", "Jornalista", "Psicólogo Organizacional", "Diplomata", "Relações Públicas"],
                courses: ["Direito", "Pedagogia", "Jornalismo", "Administração", "Psicologia", "Ciências Sociais", "Comunicação Social / Publicidade e Propaganda"],
                institutions: ["UFC", "Universidade de Fortaleza", "UNI7", "Faculdade Farias Brito"],
                contests: ["Concurso Delegado da Polícia Civil CE (necessário curso de Direito)", "Concursos para Analista Judiciário / Técnico Judiciário em tribunais estaduais ou federais baseados no Ceará", "Concursos para professor no Estado ou Município", "Concurso INSS ou Receita Federal (áreas administrativas)"]
            },
            'A': {
                title: "Artes",
                description: "Você é criativo, gosta de se expressar e transformar ideias em algo único.",
                professions: ["Designer", "Artista Plástico", "Músico", "Ator", "Publicitário", "Escritor", "Cineasta"],
                courses: ["Artes Visuais", "Música", "Design Gráfico ou Design de Interiores", "Comunicação / Publicidade e Propaganda", "Teatro / Artes Cênicas (se houver oferta)", "Cinema / Produção Cultural"],
                institutions: ["UNI7", "Universidade de Fortaleza", "Faculdade Farias Brito", "Unichristus"],
                contests: ["Professor de Artes/Música nas redes municipal ou estadual", "Editais culturais da Prefeitura de Fortaleza ou Governo do Ceará para produção cultural, teatro, música, dança", "Concursos para comunicação em órgãos públicos (setores de cultura, comunicação social)", "Possíveis concursos para publicidade ou design gráfico em órgãos governamentais ou prefeituras"]
            },
            'C': {
                title: "Concursos Públicos",
                description: "Você gosta de estabilidade, disciplina e segurança. Tem perfil para defender, proteger ou administrar serviços públicos.",
                professions: ["Policial Civil", "Policial Federal", "Bombeiro Militar", "Auditor Fiscal", "Técnico Judiciário", "Agente de Segurança"],
                courses: ["Direito", "Gestão Pública", "Administração", "Segurança Pública (ou cursos relacionados, se existirem)", "Cursos Técnicos de nível médio também se for para cargos que exigem isso"],
                institutions: ["UFC", "Unifor", "UNI7", "Farias Brito", "Unichristus"],
                contests: ["Concurso Polícia Civil CE → Oficial Investigador; Delegado.", "Concurso Polícia Penal CE previsto.", "Guarda Municipal de Fortaleza (quando for realizado)"]
            }
        };

        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const nextButton = document.getElementById('next-button');
        const backButton = document.getElementById('back-button');
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressText = document.getElementById('progress-text');
        const resultContent = document.getElementById('result-content');

        let currentQuestionIndex = 0;
        let scores = { E: 0, S: 0, H: 0, A: 0, C: 0 };
        let userAnswers = [];

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            currentQuestionIndex = 0;
            scores = { E: 0, S: 0, H: 0, A: 0, C: 0 };
            userAnswers = [];
            backButton.classList.add('hidden');
            displayQuestion();
        }

        function displayQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.q;
            optionsContainer.innerHTML = '';
            nextButton.disabled = true;
            nextButton.classList.remove('bg-blue-600', 'hover:bg-blue-700', 'cursor-pointer');
            nextButton.classList.add('bg-blue-400', 'cursor-not-allowed');

            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-button w-full p-4 rounded-xl border-2 border-gray-300 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500';
                button.dataset.points = JSON.stringify(option.points);
                button.addEventListener('click', () => handleAnswer(button, index));
                button.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <img src="${option.image}" class="w-12 h-12 rounded-md object-cover" alt="Imagem de ${option.text}" onerror="this.onerror=null; this.src='https://placehold.co/80x80/000000/ffffff?text=Image+Error'">
                        <span class="text-left">${option.text}</span>
                    </div>
                `;
                optionsContainer.appendChild(button);
            });

            progressText.textContent = `Questão ${currentQuestionIndex + 1} de ${questions.length}`;

            // Check if the user has already answered this question
            const savedAnswerIndex = userAnswers[currentQuestionIndex];
            if (savedAnswerIndex !== undefined) {
                const buttons = optionsContainer.querySelectorAll('.option-button');
                buttons[savedAnswerIndex].classList.add('selected');
                nextButton.disabled = false;
                nextButton.classList.remove('bg-blue-400', 'cursor-not-allowed');
                nextButton.classList.add('bg-blue-600', 'hover:bg-blue-700', 'cursor-pointer');
            }
            
            backButton.classList.toggle('hidden', currentQuestionIndex === 0);
        }

        function handleAnswer(button, optionIndex) {
            const buttons = optionsContainer.querySelectorAll('.option-button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');

            userAnswers[currentQuestionIndex] = optionIndex;
            nextButton.disabled = false;
            nextButton.classList.remove('bg-blue-400', 'cursor-not-allowed');
            nextButton.classList.add('bg-blue-600', 'hover:bg-blue-700', 'cursor-pointer');
        }

        function nextQuestion() {
            // Apply points from current question's answer
            const selectedOptionIndex = userAnswers[currentQuestionIndex];
            if (selectedOptionIndex !== undefined) {
                const selectedOption = questions[currentQuestionIndex].options[selectedOptionIndex];
                const points = selectedOption.points;
                for (const profile in points) {
                    if (scores.hasOwnProperty(profile)) {
                        scores[profile] += points[profile];
                    }
                }
            }

            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                displayQuestion();
            } else {
                showResult();
            }
        }

        function previousQuestion() {
            // Revert points from the question we are going back from
            const selectedOptionIndex = userAnswers[currentQuestionIndex - 1];
            if (selectedOptionIndex !== undefined) {
                const selectedOption = questions[currentQuestionIndex - 1].options[selectedOptionIndex];
                const points = selectedOption.points;
                for (const profile in points) {
                    if (scores.hasOwnProperty(profile)) {
                        scores[profile] -= points[profile];
                    }
                }
            }

            currentQuestionIndex--;
            displayQuestion();
        }


        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            const maxScore = Math.max(...Object.values(scores));
            const tiedProfiles = Object.keys(scores).filter(key => scores[key] === maxScore);

            let resultHtml = '';
            tiedProfiles.forEach(profileKey => {
                const result = results[profileKey];
                resultHtml += `
                <div class="mb-12">
                    <div class="flex items-center mb-4">
                        <span class="text-3xl font-bold text-blue-600 mr-2">🔹</span>
                        <h3 class="text-2xl font-bold text-blue-700">Perfil ${result.title} (${profileKey})</h3>
                    </div>
                    <p class="text-gray-600 mb-6">${result.description}</p>
                    
                    <div class="space-y-4">
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">✅ Profissões indicadas:</h4>
                            <p class="text-gray-600">${result.professions.join(', ')}</p>
                        </div>
                        
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">🎓 Cursos recomendados em Fortaleza/CE:</h4>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">
                                ${result.courses.map(c => `<li>${c.name} ${c.type ? `(${c.type})` : ''}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">🏫 Onde estudar em Fortaleza/CE:</h4>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">
                                ${result.institutions.map(i => `<li>${i}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">📑 Concursos públicos em Fortaleza/CE ou para o Estado do Ceará que se encaixam:</h4>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">
                                ${result.contests.map(c => `<li>${c}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
                `;
            });

            if (tiedProfiles.length > 1) {
                resultHtml = `<div class="mb-8 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-lg">
                    <p>Houve um empate entre os perfis. Aqui estão as informações para cada um deles:</p>
                </div>` + resultHtml;
            }

            resultContent.innerHTML = resultHtml;
        }

        // Event Listeners
        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', startQuiz);
        nextButton.addEventListener('click', nextQuestion);
        backButton.addEventListener('click', previousQuestion);

        // Initialize
        displayQuestion();

    </script>
</body>

</html>

