<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Vocacional - Em Andamento</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #f4f7f6;
        }
        .option-button.selected {
            border-color: #3b82f6; /* Azul */
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <main class="w-full max-w-2xl mx-auto">
        <div id="quiz-screen" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg hidden">
            <h2 id="question-text" class="text-xl sm:text-2xl font-bold text-gray-800 mb-6"></h2>
            <div id="options-container" class="space-y-3"></div>
            
            <p id="progress-text" class="text-center text-gray-500 mt-6"></p>

            <div class="flex justify-between items-center mt-6">
                <button id="back-button" class="px-5 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors">Voltar</button>
                <button id="next-button" class="px-5 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed" disabled>Próximo</button>
            </div>
        </div>

        <div id="result-screen" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg hidden">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center">Seu Resultado</h2>
            <div id="result-content"></div>
            <div class="text-center mt-6">
                 <button id="restart-button" class="px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors">Refazer o Teste</button>
            </div>
        </div>
    </main>

    <script>
        // Usei exatamente o código que você me enviou.
        const questions = [
            // <<< COLOQUE O RESTANTE DAS SUAS PERGUNTAS (1 a 17) AQUI NESTE ESPAÇO >>>
            {
                q: "18. Se fosse participar de uma olimpíada escolar, seria em…",
                options: [
                    { text: "Matemática/Física", points: { E: 3 }, image: "https://images.unsplash.com/photo-1596700810817-f31614749f99" },
                    { text: "Biologia/Química", points: { S: 3 }, image: "https://images.unsplash.com/photo-1595116030917-f27341e98d9a" },
                    { text: "História/Geografia", points: { H: 3 }, image: "https://images.unsplash.com/photo-1582294157500-8451b6a386c9" },
                    { text: "Artes/Literatura", points: { A: 3 }, image: "https://images.unsplash.com/photo-1554522434-58a4369e4f55" }
                ]
            },
            {
                q: "19. Qual desses concursos você faria?",
                options: [
                    { text: "Polícia Federal", points: { C: 3 }, image: "https://images.unsplash.com/photo-1591544321689-567e98d8d73b" },
                    { text: "Médico Militar", points: { S: 2, C: 2 }, image: "https://images.unsplash.com/photo-1522923156636-f033102434b9" },
                    { text: "Diplomata", points: { H: 3 }, image: "https://images.unsplash.com/photo-1594917411603-68d7120e29b4" },
                    { text: "INSS", points: { H: 2, C: 2 }, image: "https://images.unsplash.com/photo-1515901358352-d98c2d586d52" }
                ]
            },
            {
                q: "20. Qual frase combina mais com você?",
                options: [
                    { text: "A lógica sempre vence.", points: { E: 3 }, image: "https://images.unsplash.com/photo-1510915228359-bb810755353e" },
                    { text: "Cuidar dos outros é cuidar de mim mesmo.", points: { S: 3 }, image: "https://images.unsplash.com/photo-1588696956247-f4e9121a9a83" },
                    { text: "A justiça é o meu caminho.", points: { H: 2, C: 2 }, image: "https://images.unsplash.com/photo-1526436894050-b996e382c7a5" },
                    { text: "A vida sem arte não tem graça.", points: { A: 3 }, image: "https://images.unsplash.com/photo-1579294247291-032c1c686e0c" }
                ]
            }
        ];

        const results = {
            'E': {
                title: "Exatas",
                description: "Você tem perfil lógico, analítico e curioso. Adora resolver problemas e usar a tecnologia a seu favor.",
                professions: ["Engenheiro (Civil, Elétrica, Mecânica, Telecomunicações, etc.)", "Cientista de Dados", "Programador", "Analista de Sistemas", "Matemático", "Físico"],
                courses: [
                    { name: "Engenharia Civil", type: "Bacharelado" },
                    { name: "Engenharia de Computação", type: "Bacharelado" },
                    { name: "Engenharia de Produção", type: "Bacharelado" },
                    { name: "Ciência da Computação / Sistemas de Informação", type: "Bacharelado / Tecnologia" },
                    { name: "Matemática", type: "Licenciatura ou bacharelado" },
                    { name: "Física", type: "Licenciatura ou bacharelado" },
                    { name: "Matemática / Estatística (quando disponível)", type: "" }
                ],
                institutions: ["Universidade Federal do Ceará (UFC)", "Instituto Federal do Ceará (IFCE)", "Universidade de Fortaleza (Unifor)", "UNI7 (Centro Universitário 7 de Setembro)", "Faculdade Ari de Sá", "UniAteneu"],
                contests: ["Concurso Polícia Civil do Ceará → Oficial Investigador (nível superior)", "Concurso Delegado da Polícia Civil do Ceará", "Possíveis concursos para engenheiros em prefeitura ou Estado (Secretarias de obras, SAAE, DER, etc.)", "Órgãos como Departamento Estadual ou Municipal de Transporte e Trânsito, Companhia de Água e Esgoto (CAGEGE) podem abrir vagas para engenheiros ou técnicos"]
            },
            'S': {
                title: "Saúde",
                description: "Você gosta de cuidar, tem empatia e interesse pelo bem-estar dos outros.",
                professions: ["Médico", "Enfermeiro", "Psicólogo", "Nutricionista", "Biólogo", "Farmacêutico", "Fisioterapia", "Odontologia"],
                courses: ["Medicina", "Enfermagem", "Psicologia", "Biomedicina (se disponível)", "Fisioterapia", "Odontologia", "Nutrição", "Biologia"],
                institutions: ["UFC (Universidade Federal do Ceará)", "Unifor", "Uni7", "UniAteneu", "Faculdade Farias Brito", "Unichristus"],
                contests: ["Concursos para o setor de saúde pública (Prefeitura de Fortaleza, Estado do Ceará) → Enfermeiros, Médicos, Psicólogos etc.", "Concursos de saúde em hospitais universitários federais (como da UFC) ou estaduais", "Editais do SUS local ou Secretaria de Saúde do Estado", "Possíveis concursos em instituições como IML (Instituto Médico Legal), ou laboratórios públicos"]
            },
            'H': {
                title: "Humanas",
                description: "Você gosta de lidar com pessoas, ideias, comunicação e questões sociais.",
                professions: ["Advogado", "Professor", "Administrador", "Jornalista", "Psicólogo Organizacional", "Diplomata", "Relações Públicas"],
                courses: ["Direito", "Pedagogia", "Jornalismo", "Administração", "Psicologia", "Ciências Sociais", "Comunicação Social / Publicidade e Propaganda"],
                institutions: ["UFC", "Universidade de Fortaleza", "UNI7", "Faculdade Farias Brito"],
                contests: ["Concurso Delegado da Polícia Civil CE (necessário curso de Direito)", "Concursos para Analista Judiciário / Técnico Judiciário em tribunais estaduais ou federais baseados no Ceará", "Concursos para professor no Estado ou Município", "Concurso INSS ou Receita Federal (áreas administrativas)"]
            },
            'A': {
                title: "Artes",
                description: "Você é criativo, gosta de se expressar e transformar ideias em algo único.",
                professions: ["Designer", "Artista Plástico", "Músico", "Ator", "Publicitário", "Escritor", "Cineasta"],
                courses: ["Artes Visuais", "Música", "Design Gráfico ou Design de Interiores", "Comunicação / Publicidade e Propaganda", "Teatro / Artes Cênicas (se houver oferta)", "Cinema / Produção Cultural"],
                institutions: ["UNI7", "Universidade de Fortaleza", "Faculdade Farias Brito", "Unichristus"],
                contests: ["Professor de Artes/Música nas redes municipal ou estadual", "Editais culturais da Prefeitura de Fortaleza ou Governo do Ceará para produção cultural, teatro, música, dança", "Concursos para comunicação em órgãos públicos (setores de cultura, comunicação social)", "Possíveis concursos para publicidade ou design gráfico em órgãos governamentais ou prefeituras"]
            },
            'C': {
                title: "Concursos Públicos",
                description: "Você gosta de estabilidade, disciplina e segurança. Tem perfil para defender, proteger ou administrar serviços públicos.",
                professions: ["Policial Civil", "Policial Federal", "Bombeiro Militar", "Auditor Fiscal", "Técnico Judiciário", "Agente de Segurança"],
                courses: ["Direito", "Gestão Pública", "Administração", "Segurança Pública (ou cursos relacionados, se existirem)", "Cursos Técnicos de nível médio também se for para cargos que exigem isso"],
                institutions: ["UFC", "Unifor", "UNI7", "Farias Brito", "Unichristus"],
                contests: ["Concurso Polícia Civil CE → Oficial Investigador; Delegado.", "Concurso Polícia Penal CE previsto.", "Guarda Municipal de Fortaleza (quando for realizado)"]
            }
        };

        const restartButton = document.getElementById('restart-button');
        const nextButton = document.getElementById('next-button');
        const backButton = document.getElementById('back-button');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressText = document.getElementById('progress-text');
        const resultContent = document.getElementById('result-content');

        let currentQuestionIndex = 0;
        let scores = { E: 0, S: 0, H: 0, A: 0, C: 0 };
        let userAnswers = [];

        function startQuiz() {
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            currentQuestionIndex = 0;
            scores = { E: 0, S: 0, H: 0, A: 0, C: 0 };
            userAnswers = [];
            backButton.classList.add('hidden');
            displayQuestion();
        }

        function displayQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.q;
            optionsContainer.innerHTML = '';
            nextButton.disabled = true;

            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-button w-full p-4 rounded-xl border-2 border-gray-300 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all';
                button.dataset.points = JSON.stringify(option.points);
                button.addEventListener('click', () => handleAnswer(button, index));
                button.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <img src="${option.image}" class="w-12 h-12 rounded-md object-cover" alt="Imagem de ${option.text}" onerror="this.onerror=null; this.src='https://placehold.co/80x80/000000/ffffff?text=Error'">
                        <span class="text-left">${option.text}</span>
                    </div>
                `;
                optionsContainer.appendChild(button);
            });

            progressText.textContent = `Questão ${currentQuestionIndex + 1} de ${questions.length}`;

            const savedAnswerIndex = userAnswers[currentQuestionIndex];
            if (savedAnswerIndex !== undefined) {
                const buttons = optionsContainer.querySelectorAll('.option-button');
                buttons[savedAnswerIndex].classList.add('selected');
                nextButton.disabled = false;
            }
            
            backButton.classList.toggle('hidden', currentQuestionIndex === 0);
        }

        function handleAnswer(button, optionIndex) {
            const buttons = optionsContainer.querySelectorAll('.option-button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');

            userAnswers[currentQuestionIndex] = optionIndex;
            nextButton.disabled = false;
        }

        function nextQuestion() {
            const selectedOptionIndex = userAnswers[currentQuestionIndex];
            if (selectedOptionIndex !== undefined) {
                const selectedOption = questions[currentQuestionIndex].options[selectedOptionIndex];
                const points = selectedOption.points;
                // Lógica de pontuação precisa ser ajustada para não somar pontos ao voltar e avançar
            }

            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                displayQuestion();
            } else {
                calculateFinalScore();
                showResult();
            }
        }
        
        function calculateFinalScore() {
             scores = { E: 0, S: 0, H: 0, A: 0, C: 0 }; // Reseta os pontos
             userAnswers.forEach((answerIndex, questionIndex) => {
                 if(answerIndex !== undefined) {
                     const question = questions[questionIndex];
                     const points = question.options[answerIndex].points;
                     for (const profile in points) {
                        if (scores.hasOwnProperty(profile)) {
                            scores[profile] += points[profile];
                        }
                    }
                 }
             });
        }

        function previousQuestion() {
            currentQuestionIndex--;
            displayQuestion();
        }

        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            const maxScore = Math.max(...Object.values(scores));
            const tiedProfiles = Object.keys(scores).filter(key => scores[key] === maxScore);

            let resultHtml = '';
            tiedProfiles.forEach(profileKey => {
                const result = results[profileKey];
                resultHtml += `
                <div class="mb-12">
                    <div class="flex items-center mb-4">
                        <span class="text-3xl font-bold text-blue-600 mr-2">🔹</span>
                        <h3 class="text-2xl font-bold text-blue-700">Perfil ${result.title}</h3>
                    </div>
                    <p class="text-gray-600 mb-6">${result.description}</p>
                    
                    <div class="space-y-4">
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">✅ Profissões indicadas:</h4>
                            <p class="text-gray-600">${result.professions.join(', ')}</p>
                        </div>
                        
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">🎓 Cursos recomendados em Fortaleza/CE:</h4>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">${result.courses.map(c => `<li>${c.name} ${c.type ? `(${c.type})` : ''}</li>`).join('')}</ul>
                        </div>
                        
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">🏫 Onde estudar em Fortaleza/CE:</h4>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">${result.institutions.map(i => `<li>${i}</li>`).join('')}</ul>
                        </div>
                        
                        <div class="result-item">
                            <h4 class="font-bold text-lg text-gray-700 mb-2">📑 Concursos públicos em Fortaleza/CE ou para o Estado do Ceará que se encaixam:</h4>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">${result.contests.map(c => `<li>${c}</li>`).join('')}</ul>
                        </div>
                    </div>
                </div>`;
            });
            resultContent.innerHTML = resultHtml;
        }

        // Adicionar os event listeners
        restartButton.addEventListener('click', startQuiz);
        nextButton.addEventListener('click', nextQuestion);
        backButton.addEventListener('click', previousQuestion);
        
        // Iniciar o quiz assim que a página carregar
        document.addEventListener('DOMContentLoaded', startQuiz);
    </script>
</body>
</html>
